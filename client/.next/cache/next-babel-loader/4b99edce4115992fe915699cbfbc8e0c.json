{"ast":null,"code":"import axios from \"axios\";\n\nconst buildClient = ({\n  req\n}) => {\n  const isServerEnvironment = true;\n\n  if (isServerEnvironment) {\n    // we are on the server!\n    // requests should be made to http://ingress-nginx.ingress-nginx....\n    // http://SERVICENAME.NAMESPACE.svc.cluster.local\n    return axios.create({\n      baseURL: \"http://ingress-nginx-controller.ingress-nginx.svc.cluster.local\",\n      headers: req.headers\n    });\n  } else {\n    // we are on the browser!\n    // requests can be made with base url of \"\"\n    return axios.create({\n      baseURL: \"/\"\n    });\n  }\n};\n\nexport default buildClient;","map":{"version":3,"sources":["/Users/michal/Projects/grider-microservices/ticketing-ecommerce-app/client/api/build-client.js"],"names":["axios","buildClient","req","isServerEnvironment","create","baseURL","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAa;AAC/B,QAAMC,mBAAmB,OAAzB;;AACA,MAAIA,mBAAJ,EAAyB;AACvB;AACA;AACA;AAEA,WAAOH,KAAK,CAACI,MAAN,CAAa;AAClBC,MAAAA,OAAO,EACL,iEAFgB;AAGlBC,MAAAA,OAAO,EAAEJ,GAAG,CAACI;AAHK,KAAb,CAAP;AAKD,GAVD,MAUO;AACL;AACA;AAEA,WAAON,KAAK,CAACI,MAAN,CAAa;AAClBC,MAAAA,OAAO,EAAE;AADS,KAAb,CAAP;AAGD;AACF,CApBD;;AAsBA,eAAeJ,WAAf","sourcesContent":["import axios from \"axios\";\n\nconst buildClient = ({ req }) => {\n  const isServerEnvironment = typeof window === \"undefined\";\n  if (isServerEnvironment) {\n    // we are on the server!\n    // requests should be made to http://ingress-nginx.ingress-nginx....\n    // http://SERVICENAME.NAMESPACE.svc.cluster.local\n\n    return axios.create({\n      baseURL:\n        \"http://ingress-nginx-controller.ingress-nginx.svc.cluster.local\",\n      headers: req.headers,\n    });\n  } else {\n    // we are on the browser!\n    // requests can be made with base url of \"\"\n\n    return axios.create({\n      baseURL: \"/\",\n    });\n  }\n};\n\nexport default buildClient;\n"]},"metadata":{},"sourceType":"module"}